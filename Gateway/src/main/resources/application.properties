server.port=8085
spring.application.name=Gateway-Service

# --- CORS (Pe?ne odblokowanie) ---
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods[0]=GET
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods[1]=POST
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods[2]=PUT
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods[3]=DELETE
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedHeaders=*

# --- TRASY (Kierujemy bezpo?rednio na IP, ?eby omin?? b??dy Eureki) ---
# Trasa do MainService (Java)
spring.cloud.gateway.routes[0].id=main_service_route
spring.cloud.gateway.routes[0].uri=http://127.0.0.1:8082
spring.cloud.gateway.routes[0].predicates[0]=Path=/**

# Trasa do Visual-AI (Python) - je?li go u?ywasz
spring.cloud.gateway.routes[1].id=visual_ai_route
spring.cloud.gateway.routes[1].uri=http://127.0.0.1:8087
spring.cloud.gateway.routes[1].predicates[0]=Path=/initialize/**, /paint/**

# --- EUREKA (Tylko dla rejestracji, nie u?ywamy jej do routingu powy?ej) ---
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.prefer-ip-address=true
eureka.instance.ip-address=127.0.0.1
eureka.instance.instance-id=Gateway-Service:127.0.0.1:8085

# --- LOGI (Musisz widzie?, co si? dzieje) ---
logging.level.org.springframework.cloud.gateway=TRACE
logging.level.org.springframework.http.server.reactive=DEBUG